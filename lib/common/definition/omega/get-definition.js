"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=getDefinition;var _regenerator=_interopRequireDefault(require("@babel/runtime/regenerator"));require("regenerator-runtime/runtime");var _asyncToGenerator2=_interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));var _debug=_interopRequireDefault(require("debug"));var _boom=_interopRequireDefault(require("@hapi/boom"));var _maps=require("@modernpoacher/zashiki-transport/lib/maps");var _caches=require("@modernpoacher/zashiki-transport/lib/caches");var _exception=require("../../exception");var log=(0,_debug.default)('zashiki:common:definition:omega:get-definition');log('`getDefinition` is awake');function getDefinition(){return _getDefinition.apply(this,arguments);}function _getDefinition(){_getDefinition=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function _callee(){var params,_yield$getOmegaFromCa,_yield$getOmegaFromCa2,_yield$getOmegaFromCa3,definition,_args=arguments;return _regenerator.default.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:params=_args.length>0&&_args[0]!==undefined?_args[0]:{};log('getDefinition');_context.prev=2;_context.t0=_caches.getOmegaFromCache;_context.next=6;return(0,_maps.mapAlphaOmega)(params);case 6:_context.t1=_context.sent;_context.next=9;return(0,_context.t0)(_context.t1);case 9:_yield$getOmegaFromCa=_context.sent;_yield$getOmegaFromCa2=_yield$getOmegaFromCa.OID;_yield$getOmegaFromCa2=_yield$getOmegaFromCa2===void 0?{}:_yield$getOmegaFromCa2;_yield$getOmegaFromCa3=_yield$getOmegaFromCa2.definition,definition=_yield$getOmegaFromCa3===void 0?{}:_yield$getOmegaFromCa3;return _context.abrupt("return",definition);case 16:_context.prev=16;_context.t2=_context["catch"](2);throw _boom.default.badData(_exception.BAD_DATA);case 19:case"end":return _context.stop();}}},_callee,null,[[2,16]]);}));return _getDefinition.apply(this,arguments);}