"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=getComponents;var _interopRequireWildcard2=_interopRequireDefault(require("@babel/runtime/helpers/interopRequireWildcard"));var _debug=_interopRequireDefault(require("debug"));var _path=require("path");var _boom=_interopRequireDefault(require("@hapi/boom"));var _config=_interopRequireDefault(require("../../../config"));var _config2=require("@modernpoacher/zashiki-transport/lib/config");var _exception=require("../../exception");const log=(0,_debug.default)('zashiki:common:components:embark:get-components');log('`getComponents` is awake');const{embark:components}=_config.default.get('zashiki:components');async function getComponents(params={}){log('getComponents');try{const{[_config2.EMBARK_STAGE]:EMBARK={}}=await Promise.resolve(`${(0,_path.resolve)(components)}`).then(s=>(0,_interopRequireWildcard2.default)(require(s)));return EMBARK;}catch(e){throw _boom.default.badImplementation(_exception.BAD_IMPLEMENTATION);}}